<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>

<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>无标题文档</title>
<style type="text/css">
<!--
body {
	margin-top: 1px;
}
-->
</style></head>

<body>
<SCRIPT LANGUAGE="JavaScript">
<!--


function getsetting()
{
	var tmp="";
	var str="set=";
	var data=0;
	data=parseInt(oldnodeid.value,10);
	str=str+data+",0";
	return str;
}

function setvalue() {
var idx=0;
var cmd="";
var val="";
var exstr="estr=0";
var set="set=";
var param="";
var param2="";
var data=0;
var letter='0';
var hexchars="0123456789abcdef";
var validchars = "0123456789";
idx=0xA0;
cmd="cmd="+idx;
if(valuestr.value=="")
{
	window.alert("Node ID can not be empty.");
	return ;
}
var check=true;
for (var i=0; i < valuestr.value.length; i++) {
	letter = valuestr.value.charAt(i).toLowerCase();
	if (validchars.indexOf(letter) != -1)
		continue;
	alert("Invalid character in VALUE: " + letter);
	check=false;
	return ;
}

var check=true;
for (var i=0; i < serialid1.value.length; i++) {
	letter = serialid1.value.charAt(i).toLowerCase();
	if (hexchars.indexOf(letter) != -1)
		continue;
	alert("Invalid character in Serial ID: " + letter);
	check=false;
	return ;
}
for (var i=0; i < serialid2.value.length; i++) {
	letter = serialid2.value.charAt(i).toLowerCase();
	if (hexchars.indexOf(letter) != -1)
		continue;
	alert("Invalid character in Serial ID: " + letter);
	check=false;
	return ;
}
for (var i=0; i < serialid3.value.length; i++) {
	letter = serialid3.value.charAt(i).toLowerCase();
	if (hexchars.indexOf(letter) != -1)
		continue;
	alert("Invalid character in Serial ID: " + letter);
	check=false;
	return ;
}
for (var i=0; i < serialid4.value.length; i++) {
	letter = serialid4.value.charAt(i).toLowerCase();
	if (hexchars.indexOf(letter) != -1)
		continue;
	alert("Invalid character in Serial ID: " + letter);
	check=false;
	return ;
}
if((serialid1.value.length + serialid2.value.length + serialid3.value.length + serialid4.value.length)!=16)
{
	alert("Serial ID must be 64bit, or 16 characters" );
	return;
}
exstr="estr="+serialid1.value+serialid2.value+serialid3.value+serialid4.value;
data=parseInt(valuestr.value,10);
val="val="+data;
set=getsetting();
param="xcmd.cgi?"+cmd+"&"+val+"&"+exstr+"&"+set;
param2="xstatus.cgi?"+cmd+"&"+val;
window.parent.frames["blFrame"].document.location.replace(param);
window.parent.frames["brFrame"].document.location.replace(param2);
}

//-->
</SCRIPT>
<table width="653" border="0">
  <tr>
    <td colspan="4">&nbsp;</td>
  </tr>
  <tr>
    <td width="134">&nbsp;</td>
    <td colspan="2">&nbsp;</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td colspan="2"><strong>Field Install </strong></td>
    <td width="43">&nbsp;</td>
    <td width="371">&nbsp;</td>
  </tr>
</table>
<table width="653" border="0">
  <tr>
    <td width="125" align="right">Unique ID</td>
    <td colspan="3" align="center"><input name="serialid1" type="text" id="serialid1" size="10" maxlength="4"></td>
    <td width="7" align="center">-</td>
    <td width="60" align="center"><input name="serialid2" type="text" id="serialid2" size="10" maxlength="4"></td>
    <td width="7" align="center">-</td>
    <td width="60" align="center"><input name="serialid3" type="text" id="serialid3" size="10" maxlength="4"></td>
    <td width="7" align="center">-</td>
    <td width="60"><input name="serialid4" type="text" id="serialid4" size="10" maxlength="4"></td>
    <td>HEX</td>
  </tr>
  <tr>
    <td width="125" align="right">Old Node ID</td>
    <td colspan="3" align="center"><input name="oldnodeid" type="text" id="oldnodeid" size="10" maxlength="6"></td>
    <td colspan="6" rowspan="2" align="center"><input type="submit" name="Submit" value="    S E T     " onClick="setvalue()"></td>
    <td width="223">&nbsp;</td>
  </tr>
  <tr>
    <td width="125" align="right">New Node ID    </td>
    <td colspan="3" align="center"><input name="valuestr" type="text" id="valuestr" size="10"></td>
    <td>&nbsp;</td>
  </tr>
</table>
<table width="653" border="0">
  <tr>
    <td>&nbsp;</td>
    <td width="205" align="center">&nbsp;</td>
    <td width="242">&nbsp;</td>
  </tr>
</table>
</body>
</html>
